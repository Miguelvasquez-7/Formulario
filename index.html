<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Contacto</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <link rel="icon" href="logo formulario.jpg">
</head>
<body>

    <div class="form-container">
        <h2>Formulario de Contacto</h2>
        <form id="contact-form">
            <div class="form-group">
                <label for="name">Nombre y Apellidos:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="dni">Número de DNI:</label>
                <input type="text" id="dni" name="dni" required maxlength="8" minlength="8" pattern="\d{8}" title="Debe ingresar un número de DNI válido">
            </div>
            <div class="form-group">
                <label for="birthdate">Fecha de Nacimiento:</label>
                <input type="date" id="birthdate" name="birthdate" required>
            </div>
            <div class="form-group">
                <label for="age">Edad:</label>
                <input type="number" id="age" name="age" required>
            </div>
            <div class="form-group">
                <label for="phone">Teléfono:</label>
                <input type="tel" id="user-phone" name="phone" required>
            </div>
            <div class="form-group">
                <label for="address">Dirección:</label>
                <input type="text" id="address" name="address" required>
            </div>
            <div class="form-group">
                <label for="department">Departamento:</label>
                <input type="text" id="department" name="department" required>
            </div>
            <div class="form-group">
                <label for="province">Provincia:</label>
                <input type="text" id="province" name="province" required>
            </div>
            <div class="form-group">
                <label for="district">Distrito:</label>
                <input type="text" id="district" name="district" required>
            </div>
            <div class="form-group">
                <button type="submit" id="submit-btn">Enviar</button>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();

            // Obtener los valores del formulario
            var name = document.getElementById('name').value;
            var dni = document.getElementById('dni').value;
            var birthdate = document.getElementById('birthdate').value;
            var age = document.getElementById('age').value;
            var userPhone = document.getElementById('user-phone').value;
            var address = document.getElementById('address').value;
            var department = document.getElementById('department').value;
            var province = document.getElementById('province').value;
            var district = document.getElementById('district').value;

            // Número de WhatsApp
            var whatsappNumber = "51951489212"; // Incluye el código del país, en este caso +51

            // Crear el mensaje para WhatsApp
            var whatsappMessage = "Hola, me llamo " + name + ".\n" +
                                  "DNI: " + dni + "\n" +
                                  "Fecha de Nacimiento: " + birthdate + "\n" +
                                  "Edad: " + age + "\n" +
                                  "Teléfono: " + userPhone + "\n" +
                                  "Dirección: " + address + "\n" +
                                  "Departamento: " + department + "\n" +
                                  "Provincia: " + province + "\n" +
                                  "Distrito: " + district + "\n";

            // Abrir WhatsApp con el mensaje
            var whatsappUrl = "https://wa.me/" + whatsappNumber + "?text=" + encodeURIComponent(whatsappMessage);
            window.open(whatsappUrl, '_blank');
        });

        // Opcional: calcular automáticamente la edad en función de la fecha de nacimiento
        document.getElementById('birthdate').addEventListener('change', function() {
            var birthdate = new Date(this.value);
            var today = new Date();
            var age = today.getFullYear() - birthdate.getFullYear();
            var monthDiff = today.getMonth() - birthdate.getMonth();

            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthdate.getDate())) {
                age--;
            }

            document.getElementById('age').value = age;
        });
    </script>

</body>
</html>